# 可选：启用 DFloat11 压缩权重推理
# - 设置为 1 启用 libs 内置的 DF11 推理路径
# - 需要先通过 scripts/compress_steadydancer_dfloat11.py 生成
#   对应的 models/SteadyDancer-14B-df11 目录
STEADYDANCER_USE_DF11=1

# 可选：显式指定 DF11 目录
# 默认值为：${STEADYDANCER_CKPT_DIR}-df11 或 <MODELS_DIR>/SteadyDancer-14B-df11
STEADYDANCER_DF11_DIR=

# 可选：DF11 CPU Offload（建议在 3080 等显存较小的显卡上开启）
# 设为 1 时，DF11 权重常驻 CPU，仅在前向时按块加载到 GPU，
# 显著降低单卡显存占用，代价是推理速度略慢。
STEADYDANCER_DF11_CPU_OFFLOAD=1

# 可选：使用 Accelerate 自动多卡切分 DF11 主干（实验性）
# - 设置为 1 时，DF11 主干会使用 device_map=\"auto\" 按显存自动分布到多张 GPU 上，
#   并在推理时避免重复调用 .to(device)。
# - 目前仅建议在高级用户场景下使用，如双 3080 等，出现问题时可关闭回退到单卡。
STEADYDANCER_DF11_DEVICE_MAP_AUTO=0

# Celery 队列配置
# 推荐显式使用 Celery 标准环境变量，JOB_QUEUE_URL 作为兼容别名。
CELERY_DEFAULT_QUEUE=steadydancer
WORKER_CONCURRENCY=4
JOB_QUEUE_URL=redis://localhost:6379/1
